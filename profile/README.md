[![Hits](https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fgithub.com%2Fnhnacademy-be6-5ritang&count_bg=%2379C83D&title_bg=%23555555&icon=duckduckgo.svg&icon_color=%23E7E7E7&title=%EC%98%A4%EB%A6%AC%ED%83%95+%EC%A1%B0%ED%9A%8C%EC%88%98&edge_flat=false)](https://hits.seeyoufarm.com)

# 🦆 Team_5ritang 
**프로젝트 기간 : 2024.06.11. ~ 2024.08.02**

스프링 부트와 클라우드 서비스를 활용한 온라인 도서 쇼핑몰 프로젝트입니다.

**https://5ritang.store/**

![ORITANG_OFFICIAL_BG](https://github.com/user-attachments/assets/30cb4e39-ba7a-401a-a849-6485a9fa0511)


<div align="center" dir="auto">
  <div class="markdown-heading" dir="auto">
    <h3 class="heading-element" dir="auto"> NHN Academy 6기 - 5ritang 팀 </h3>
    <a id="user-content--nhn-academy-6기---5ritang-팀-" class="anchor" aria-label="Permalink:  NHN Academy 6기 - 5ritang 팀"></a>
  </div>
  <markdown-accessiblity-table data-catalyst="">
    <table>
      <thead>
        <tr>
          <th><a href="https://github.com/2897robo"><img src="https://github.com/2897robo.png" width="100px" style="max-width: 100%;"><br>김기욱</a></th>
          <th><a href="https://github.com/Daun0808"><img src="https://github.com/Daun0808.png" width="100px" style="max-width: 100%;"><br>김다운</a></th>
          <th><a href="https://github.com/taehwan01"><img src="https://github.com/taehwan01.png" width="100px" style="max-width: 100%;"><br>김태환</a></th>
          <th><a href="https://github.com/dlrudgjs104"><img src="https://github.com/dlrudgjs104.png" width="100px" style="max-width: 100%;"><br>이경헌</a></th>
          <th><a href="https://github.com/kihoo-ni"> <img src="https://github.com/kihoo-ni.png" width="100px" style="max-width: 100%;"><br>이기훈</a></th>
        </tr>
      </thead>
    </table>
</markdown-accessiblity-table>
</div>

<br><br>

#  5ritang_Repository

- [BACK](https://github.com/nhnacademy-be6-5ritang/book-store-back)
- [FRONT](https://github.com/nhnacademy-be6-5ritang/book-store-front)
- [COUPON](https://github.com/nhnacademy-be6-5ritang/book-store-coupon)
- [ACCOUNT](https://github.com/nhnacademy-be6-5ritang/book-store-account)
- [GATEWAY](https://github.com/nhnacademy-be6-5ritang/book-store-cloud-gateway)
- [EUREKA](https://github.com/nhnacademy-be6-5ritang/book-store-cloud-eureka)
- [STUDY](https://github.com/nhnacademy-be6-5ritang/5ritang-study)

---

# 시연 영상

[![Watch video](https://img.youtube.com/vi/Kv6m8ufEfEw/0.jpg)](https://www.youtube.com/watch?v=Kv6m8ufEfEw)


---

# 개발 환경

### 🛠 개발 도구
<p>
    <img src="https://img.shields.io/badge/IntelliJ%20IDEA-000000?style=for-the-badge&logo=IntelliJIDEA&logoColor=white">
</p>

### Language
<p>
    <img src="https://img.shields.io/badge/Java-007396?style=for-the-badge&logo=openjdk&logoColor=white">
</p>

### Build Tools
<p>
    <img src="https://img.shields.io/badge/Maven-C71A36?style=for-the-badge&logo=apache-maven&logoColor=white">
</p>

### Develop
<p>
    <img src="https://img.shields.io/badge/Spring%20Framework-6DB33F?style=for-the-badge&logo=spring&logoColor=white">
    <img src="https://img.shields.io/badge/Spring%20Boot-6DB33F?style=for-the-badge&logo=spring-boot&logoColor=white">
    <img src="https://img.shields.io/badge/Spring%20Cloud%20Netflix-6DB33F?style=for-the-badge&logo=spring&logoColor=white">
    <img src="https://img.shields.io/badge/Spring%20Cloud%20Gateway-6DB33F?style=for-the-badge&logo=spring&logoColor=white">
    <img src="https://img.shields.io/badge/Spring%20Cloud%20Config-6DB33F?style=for-the-badge&logo=spring&logoColor=white">
    <img src="https://img.shields.io/badge/Spring%20Cloud%20OpenFeign-6DB33F?style=for-the-badge&logo=spring&logoColor=white">
    <img src="https://img.shields.io/badge/Spring%20Data%20JPA-6DB33F?style=for-the-badge&logo=spring&logoColor=white">
    <img src="https://img.shields.io/badge/Querydsl-0095D5?style=for-the-badge&logo=&logoColor=white">
    <img src="https://img.shields.io/badge/Spring%20Security-6DB33F?style=for-the-badge&logo=spring-security&logoColor=white">
</p>

### Test
<p>
    <img src="https://img.shields.io/badge/JUnit5-25A162?style=for-the-badge&logo=junit5&logoColor=white">
    <img src="https://img.shields.io/badge/AssertJ-26A69A?style=for-the-badge&logo=&logoColor=white">
    <img src="https://img.shields.io/badge/Mockito-FFCA28?style=for-the-badge&logo=&logoColor=white">
    <img src="https://img.shields.io/badge/SonarQube-4E9BCD?style=for-the-badge&logo=sonarqube&logoColor=white">
</p>

### Database
<p>
    <img src="https://img.shields.io/badge/MySQL-4479A1?style=for-the-badge&logo=mysql&logoColor=white">
    <img src="https://img.shields.io/badge/Redis-DC382D?style=for-the-badge&logo=redis&logoColor=white">
</p>

### Search Engine
<p>
    <img src="https://img.shields.io/badge/Elasticsearch-005571?style=for-the-badge&logo=elasticsearch&logoColor=white">
</p>

### ERD
<p>
    <img src="https://img.shields.io/badge/ERDCloud-000000?style=for-the-badge&logo=&logoColor=white">
</p>

### Message Queue
<p>
    <img src="https://img.shields.io/badge/RabbitMQ-FF6600?style=for-the-badge&logo=rabbitmq&logoColor=white">
</p>

### CI/CD
<p>
    <img src="https://img.shields.io/badge/Github%20Actions-2088FF?style=for-the-badge&logo=github-actions&logoColor=white">
    <img src="https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white">
    <img src="https://img.shields.io/badge/ubuntu-E95420?style=for-the-badge&logo=ubuntu&logoColor=white">
    <img src="https://img.shields.io/badge/linux-FCC624?style=for-the-badge&logo=linux&logoColor=black">
</p>

### UI
<p>
    <img src="https://img.shields.io/badge/Bootstrap-7952B3?style=for-the-badge&logo=bootstrap&logoColor=white">
    <img src="https://img.shields.io/badge/jquery-0769AD?style=for-the-badge&logo=jquery&logoColor=white">
    <img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black">
    <img src="https://img.shields.io/badge/Thymeleaf-005C0F?style=for-the-badge&logo=thymeleaf&logoColor=white">
</p>

### NHN Cloud
<p>
    <img src="https://img.shields.io/badge/NHN%20Cloud-000000?style=for-the-badge&logo=&logoColor=white">
    <img src="https://img.shields.io/badge/Instance-000000?style=for-the-badge&logo=&logoColor=white">
    <img src="https://img.shields.io/badge/Secure%20Key%20Manager-000000?style=for-the-badge&logo=&logoColor=white">
    <img src="https://img.shields.io/badge/Image%20Manager-000000?style=for-the-badge&logo=&logoColor=white">
    <img src="https://img.shields.io/badge/Log%20%26%20Crash%20Search-000000?style=for-the-badge&logo=&logoColor=white">
</p>

### Web Server
<p>
    <img src="https://img.shields.io/badge/nginx-009639?style=for-the-badge&logo=nginx&logoColor=white">
</p>

### ETC.
<p>
    <img src="https://img.shields.io/badge/Dooray%20Hook%20Sender-000000?style=for-the-badge&logo=&logoColor=white">
    <img src="https://img.shields.io/badge/Toast%20UI-000000?style=for-the-badge&logo=&logoColor=white">
    <img src="https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=github&logoColor=white">
    <img src="https://img.shields.io/badge/Payco%20Oauth-000000?style=for-the-badge&logo=&logoColor=white">
    <img src="https://img.shields.io/badge/Aladin%20api-000000?style=for-the-badge&logo=&logoColor=white">
    <img src="https://img.shields.io/badge/naver%20api-03C75A?style=for-the-badge&logo=naver&logoColor=white">
</p>

### Design Tool
<p>
    <img src="https://img.shields.io/badge/Figma-F24E1E?style=for-the-badge&logo=figma&logoColor=white">
</p>

### API Testing
<p>
    <img src="https://img.shields.io/badge/Postman-FF6C37?style=for-the-badge&logo=postman&logoColor=white">
    <img src="https://img.shields.io/badge/Apache%20JMeter-007bff?style=for-the-badge&logo=apache&logoColor=white">
</p>


---

# ER-Diagram

 ***https://www.erdcloud.com/d/vD5T9WrpW2PMZZvR2***  `ERDCloud` 활용하여 버전별로 관리

5ritang_final
![오리탕 ERD v3 0](https://github.com/user-attachments/assets/f121f58d-0316-49cb-b57e-857862e413a2)


<details>
<summary>오리탕 v2.8</summary>


![오리탕 ERD Final](https://github.com/user-attachments/assets/206f80a4-afe0-4343-adc9-1da1888b4a59)
</details>



<details>
<summary>오리탕 v2.4</summary>


![오리탕 ERD v2 6](https://github.com/user-attachments/assets/a80e1f14-641d-4180-acf1-827d455794db)
</details>


<details>
<summary>오리탕 v2.4</summary>


![오리탕 ERD v2 4](https://github.com/user-attachments/assets/395101d4-8708-4a6d-a126-1fbbeb634241)
</details>


<details>
<summary>오리탕 v2</summary>


![오리탕 ERD v2](https://github.com/user-attachments/assets/110f169f-db52-412c-9a53-847d209b42f9)
</details>


<details>
<summary>오리탕 v1</summary>

![오리탕 ERD v1](https://github.com/user-attachments/assets/425d9238-84c7-4690-9262-2d22bd96b715)
</details>

---

# Architecture

![final_architecture](https://github.com/user-attachments/assets/c2d577d8-3a12-46c7-903d-2e27f14fbfa4)


---

# CI/CD

![2024-07-28 17_53_27 335](https://github.com/user-attachments/assets/8f79ccdf-107f-4a37-afe5-e947dc193614)


---

# Project Management

 Github에서 제공하는 `Projects`를 활용하여 프로젝트 관리

### Scrum

- 주마다 *Scurm Master*를 변경하는 방식으로 진행
- 매일 전날 했던 것, 오늘 할 것 정리하고 회고

![스크린샷 2024-07-21 오후 8 59 29](https://github.com/user-attachments/assets/06295ddb-e07d-402e-91c8-899b49441c96)

### 일정관리

- *Road Map, Kanban* 활용
- 일정 관리 및 진행 사항 공유

*Road Map*
![스크린샷 2024-07-21 오후 9 02 08](https://github.com/user-attachments/assets/5bcb51bb-e877-4dd8-a7d6-556fbcf0a21e)

*Kanban*
![스크린샷 2024-07-21 오후 9 01 13](https://github.com/user-attachments/assets/bc7d9c99-204f-449f-9075-1c6cbdf7c238)


### 풀리퀘스트 후 코드리뷰

![스크린샷 2024-07-21 오후 9 19 34](https://github.com/user-attachments/assets/54cdb4d9-3298-41c9-b3d6-4bcdd9cabaa3)


---

### Test Coverage

- 정적 코드 분석 도구인 `SonarQube`를 활용하였습니다.
- 목표 : Coverage 80%

- Account, Back, Coupon, Front
![프론트, 백, 쿠폰, 인증 서버 커버리지](https://github.com/user-attachments/assets/ded187ca-e861-4e8b-bb06-6a81e876aa0d)

---

### Swagger Api

#### Back : https://www.5ritang.store/api

#### Coupon : https://www.5ritang.store/coupons/api

#### Account : https://www.5ritang.store/auth

<img width="1466" alt="스크린샷 2024-07-21 오후 9 03 42" src="https://github.com/user-attachments/assets/0a538c9c-a7a0-48e4-8689-f19104db995d">

---

# 기술 공유

> 5ritang Study repository : https://github.com/nhnacademy-be6-5ritang/5ritang-study

- 프로젝트를 진행하면서 학습 내용 공유 저장소를 이용하여 습득한 기술을 공유하였습니다.

### Conventions & Strategy

<details>
<summary>naver coding convention</summary>

https://naver.github.io/hackday-conventions-java/
</details>
<details>
<summary>git convetion</summary>

# Commit Message Guidelines

- **Feat**: 새로운 기능을 추가
- **Fix**: 버그 수정
- **Design**: CSS 등 사용자 UI 디자인 변경
- **!BREAKING CHANGE**: 커다란 API 변경의 경우
- **!HOTFIX**: 급하게 치명적인 버그를 고쳐야하는 경우
- **Style**: 코드 포맷 변경, 세미 콜론 누락, 코드 수정이 없는 경우
- **Refactor**: 프로덕션 코드 리팩토링
- **Comment**: 필요한 주석 추가 및 변경
- **Docs**: 문서 수정
- **Test**: 테스트 코드, 리펙토링 테스트 코드 추가, Production Code(실제로 사용하는 코드) 변경 없음
- **Chore**: 빌드 업무 수정, 패키지 매니저 수정, 패키지 관리자 구성 등 업데이트, Production Code 변경 없음
- **Rename**: 파일 혹은 폴더명을 수정하거나 옮기는 작업만인 경우
- **Remove**: 파일을 삭제하는 작업만 수행한 경우

</details>


---
# 개인별 구현 상세내역

---
# [김다운](https://github.com/Daun0808)

## 구현한 기능

| 역할           | 상세 내용                                                   |
|---------------|-----------------------------------------------------------|
| **인프라**      |                                                           |
|               |- CI/CD 구축                                                |
| **포인트**      |                                                           |
|               | - 주문 시 포인트 적립 및 사용                                   |
|               | - 포인트 정책 구현                                            |
| **주문**       |                                                           |
|               | - 비회원 & 회원 주문 처리                                      |
|               | - 주문 내역 조회                                             |
|               | - 환불 처리                                                 |
|               | - 관리자 주문 처리                                            |
| **포장지 및 배송**|                                                           | 
|               | - 포장지 선택                                                |
|               | - 배송 관리                                                  |
| **재고 및 결제** |                                                           |
|               | - 재고 처리                                                  |
|               | - 결제 처리                                                  |
|               | - 결제 취소                                                  |
|               | - 결제 상태에 따른 주문 상태 변경                                 |

## 사용한 기술
- Git Action CI/CD
- Toss Payments
- DAUM 주소 API

---
# [이기훈](https://github.com/kihoo-ni)

## 구현한 기능

| 역할      | 상세내용                                                                                     |
|-----------|-------------------------------------------------------------------------------------------|
| **인프라** |                                                                                           |
|           | - 쿠폰서버 구현 및 CI/CD 적용                                                                 |
|           | - Project의 Springcloud eureka, gateway 서버구축하여 MSA기반 환경 구현                          |
| **쿠폰**  |                                                                                           |
|           | - 쿠폰정책 생성, 편집, 폐기, 조회(페이지네이션)                                                    |
|           | - 정책 생성 시 도서 카테고리 검색                                                               |
|           | - 쿠폰템플릿 발급, 조회(페이지네이션)                                                            |
|           | - 사용자 쿠폰 발급, 사용됨 처리, 조회(페이지네이션, 검색)                                            |
|           | - 주문 시 쿠폰 선택 기능(비회원/회원), 쿠폰 계산 처리                                               |
|           | - Spring Scheduler를 사용하여 생일 쿠폰, 쿠폰 사용됨 처리 구현                                     |
|           | - Querydsl을 사용하여 코드를 간결하게 보기에하고 기존 jpql로 작성된 코드의 불편한점을 개선                 |
|           | - N+1문제를 확인하고 이를 개선하기위해 노력함                                                      |
|           | - Coupon REST API 문서를 Swagger를 통해 배포 서버에서 볼 수 있게 함                               |
|           | - 사용자 쿠폰 발급 시 RabbitMQ를 이용하여 발급 처리                                               |

## 사용한 기술
- rabbitmq
- spring scheduler
- querydsl
- springcloud, eureka, gateway

---
# [이경헌](https://github.com/dlrudgjs104)

## 구현한 기능

| 역할   | 상세 내용                                                             |
|-----------|-----------------------------------------------------------------|
| **인프라**   |                                                                |
|            | 서버별 Logback, Log & Crash 적용                                  |
|            | Secure Key Manager                                             |
|            | Back-end Server 이중화                                          |
| **장바구니** |                                                                |
|            | 비회원 & 회원 장바구니                                              |
|            | 도서 재고량에 따른 장바구니 추가 구현                                   |
|            | 빈번한 장바구니 조회 성능 최적화 및 영구적 유지                           |
|            | 장바구니 구현 시 Redis와 MySQL 사용                                 |
| **도서**    |                                                                |
|            | 도서, 카테고리, 태그, 출판사, 저자, 도서상태 관리                         |
|            | 도서 카테고리별 검색 및 정렬                                          |
|            | 모든 도서는 하나 이상의 카테고리에 속해야 하며, 카테고리는 2단계 이상으로 구성    |
|            | 0개 이상의 Tag를 지정 가능                                          |
|            | 회원별 도서 위시리스트 구현                                           |
|            | WYSIWYG Editor를 사용한 책 설명 등록 (toast-editor)                 |
| **리뷰**    |                                                                |
|            | 리뷰 사진 업로드 구현                                               |
|            | 리뷰 포인트 적립 (리뷰: 200포인트, 리뷰+사진: 500포인트)                  |
|            | 리뷰 조회 (도서별, 회원별, 리뷰 유형별)                                |
|            | 리뷰 작성 시 1~5점의 평가 점수 부여 및 수정 가능, 삭제 불가                |
|            | 도서 상세보기 페이지에 사용자 리뷰 및 평점 표시                           |
|            | 주문한 도서 중 배송완료된 도서에 대해서만 리뷰 작성                        |
| **배송**    |                                                                |
|            | 배송비 정책 관리                                                   |

## 사용한 기술
- Log & Crash
- Secure Key Manager
- 워지윅 에디터
- Redis 캐싱

---
# [김기욱](https://github.com/2897robo)

## 구현한 기능

| 역할      | 상세내용                                                                                  |
|-----------|-------------------------------------------------------------------------------------------|
| **인프라** |                                                                                            |
|           | - Elastic Search, NHN Cloud 인스턴스 초기 설정                                                 |
| **도서**  |                                                                                            |
|           | - 외부 API(네이버, 알라딘) 활용한 도서 정보 가져오기 및 매핑                                          |
|           | - NHN Cloud Image Manager 이미지 API를 사용해 이미지 가져오기 및 업로드                             |
| **검색**  |                                                                                            |
|           | - LogStash, Kibana, Elastic 초기 설정                                                       |
|           | - 저자, 도서, 태그, 출판사 기준으로 검색 기능 구현                                                   |

## 사용한 기술
- Elastic Search
- LogStash
- Kibana
- NHN Cloud
- 외부 API (네이버, 알라딘)
- NHN Cloud Image Manager


---
# [김태환](https://github.com/taehwan01)

## 구현한 기능
| 역할 | 상세내용 |
| --- | --- |
| **인프라** |   |
|   | Frontend Server 이중화 및 로드 밸런싱 |
| **인증 및 인가** |   |
|   | JWT를 이용한 회원 인증 및 인가 구현 |
|   | 휴면 및 탈퇴 회원의 인증 단계 방지 |
| **회원** |   |
|   | 회원(계정) 가입, 정보 수정, 휴면 처리, 탈퇴 API 구현 |
|   | 회원 가입 시 중복 방지와 휴면 계정 복구를 위한 이메일 인증 |
|   | 회원 주소 등록, 수정, 삭제 기능 구현 |
|   | 회원 등급 정책 및 회원에게 등급 부여 구현 |
|   | 회원 상태(휴면 및 탈퇴) 스케줄링 활용 구현 |
|   | 회원 및 관리자 권한 정책 및 부여 구현 |
| **프론트엔드** |   |
|   | 사용자 전용 UI 리뉴얼 및 템플릿 구축 |

## 사용한 기술
- NHN Cloud
- Nginx
- JWT
- Spring Scheduler
- Java MailSender
- Daum 주소 API
